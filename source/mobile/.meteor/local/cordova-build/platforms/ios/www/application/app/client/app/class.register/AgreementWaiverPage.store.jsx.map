{"version":3,"sources":["meteor://üíªapp/client/app/class.register/AgreementWaiverPage.store.jsx"],"names":[],"mappings":";;;;;;;;;;;;AAKA;;;AAGI,cAAU,CAAC,GAAG,CAAC,yCAAyC,EAAE,IAAI,YAAY;;AAEtE,YAAI,IAAI,GAAG,IAAI,CAAC;;AAEhB,YAAI,CAAC,eAAe,GAAG,YAAY;AAC/B,mBAAO,EAAE,CAAC,YAAY,CAAC,OAAO,CAAC;AAC3B,sBAAM,EAAE,QAAQ;AAChB,oBAAI,EAAE,UAAU;aACnB,CAAC;SACL;;;AAGD,YAAI,CAAC,aAAa,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC;;AAE1C,YAAI,CAAC,UAAU,GAAG,IAAI,WAAW,CAAC,EAAE,CAAC;;AAGrC,cAAM,CAAC,OAAO,CAAC,YAAY;;AAEvB,mBAAO,CAAC,OAAO,CAAC,YAAY;AACxB,oBAAI,YAAY,GAAG,IAAI,CAAC,eAAe,EAAE;;AAEzC,oBAAI,KAAK,GAAG,YAAY,IAAI,YAAY,CAAC,KAAK,CAAC;;AAE/C,oBAAI,aAAa,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,UAAU,IAAI,EAAE;AAC9C,2BAAO,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC;iBAClC,CAAC;AACF,oBAAI,CAAC,aAAa,CAAC,GAAG,CAAC,aAAa,CAAC;;AAGrC,oBAAI,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,KAAK,EAAE,UAAU,IAAI,EAAE;AACnC,2BAAO,IAAI,CAAC,SAAS;iBACxB,CAAC;AACF,mBAAG,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;;AAElB,oBAAI,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC;;AAGxB,uBAAO,CAAC,GAAG,CAAC,YAAY,EAAC,GAAG,CAAC;aAChC,CAAC;SAEL,CAAC;KAGL,GAAC;CAEL,wE","file":"/client/app/class.register/AgreementWaiverPage.store.jsx","sourcesContent":["/**\n * Created on 10/18/15.\n */\n\n\n{\n    //waiver form Âà§Êñ≠ÂèäÂ§ÑÁêÜ\n\n    Dependency.add('classRegister.AgreementWaiverPage.store', new function () {\n\n        var self = this;\n\n        self.getShoppingCart = function () {\n            return DB.ShoppingCart.findOne({\n                status: 'active',\n                type: 'register'\n            })\n        }\n\n        //ÊòØÂê¶ÂåÖÂê´Á¨¨‰∏ÄÊ¨°Á¨¨‰∏ÄÊ¨°Ê≥®ÂÜåÁöÑswimmer\n        self.hasNewSwimmer = new ReactiveVar(true)\n\n        self.swimmerIds = new ReactiveVar([])\n\n\n        Meteor.startup(function () {\n\n            Tracker.autorun(function () {\n                var shoppingCart = self.getShoppingCart()\n\n                var items = shoppingCart && shoppingCart.items;\n\n                var hasNewSwimmer = _.some(items, function (item) {\n                    return item.isFistTime == true;\n                })\n                self.hasNewSwimmer.set(hasNewSwimmer)\n\n\n                var ids = _.map(items, function (item) {\n                    return item.swimmerId\n                })\n                ids = _.uniq(ids);\n\n                self.swimmerIds.set(ids)\n\n\n                console.log('swimmerIds',ids)\n            })\n\n        })\n\n\n    })\n\n}\n"]}