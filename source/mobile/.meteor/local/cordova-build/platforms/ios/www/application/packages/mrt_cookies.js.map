{"version":3,"sources":["meteor://ðŸ’»app/packages/mrt_cookies/packages/mrt_cookies.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H","file":"/packages/mrt_cookies.js","sourcesContent":["(function () {\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                            //\n// packages/mrt:cookies/cookie.js                                                                             //\n//                                                                                                            //\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                              //\nCookie = {};                                                                                                  // 1\n                                                                                                              // 2\nCookie._deps = {};                                                                                            // 3\nCookie._dep = new Deps.Dependency();                                                                          // 4\n                                                                                                              // 5\n                                                                                                              // 6\n                                                                                                              // 7\nCookie.get = function(name) {                                                                                 // 8\n  var _dep = Cookie._deps[name];                                                                              // 9\n  if(!_dep) {                                                                                                 // 10\n    Cookie._deps[name] = new Deps.Dependency();                                                               // 11\n    _dep = Cookie._deps[name];                                                                                // 12\n  }                                                                                                           // 13\n  _dep.depend();                                                                                              // 14\n                                                                                                              // 15\n  var fullCookie = document.cookie;                                                                           // 16\n                                                                                                              // 17\n  var startIndex = fullCookie.indexOf(name + '=');                                                            // 18\n  if (startIndex === -1) return null;    /* named cookie not found */                                         // 19\n                                                                                                              // 20\n  startIndex = fullCookie.indexOf('=', startIndex) + 1;                                                       // 21\n  var endIndex = fullCookie.indexOf(';', startIndex);                                                         // 22\n  if (endIndex === -1) endIndex = fullCookie.length;                                                          // 23\n                                                                                                              // 24\n  return unescape(fullCookie.substring(startIndex,endIndex));                                                 // 25\n};                                                                                                            // 26\n                                                                                                              // 27\n                                                                                                              // 28\n                                                                                                              // 29\nCookie.set = function(name, value, duration) {                                                                // 30\n                                                                                                              // 31\n  var expireTime = new Date().getTime();                                                                      // 32\n  if(duration) {                                                                                              // 33\n    if(duration.seconds) expireTime += duration.seconds * 1000;                                               // 34\n    if(duration.minutes) expireTime += duration.minutes * 1000 * 60;                                          // 35\n    if(duration.hours) expireTime += duration.hours * 1000 * 60 * 60;                                         // 36\n    if(duration.days) expireTime += duration.days * 1000 * 60 * 60 * 24;                                      // 37\n    if(duration.months) expireTime += duration.months * 1000 * 60 * 60 * 30;                                  // 38\n    if(duration.years) expireTime += duration.years * 1000 * 60 * 60 * 24 * 366;                              // 39\n    if(duration.clear) expireTime = 0;                                                                        // 40\n  } else {                                                                                                    // 41\n    expireTime += 366 * 24 * 60 * 60 * 1000;                                                                  // 42\n  }                                                                                                           // 43\n                                                                                                              // 44\n  var str = '' + name + '=' + escape(value) + '; expires=' + new Date(expireTime).toUTCString() + '; path=/'; // 45\n  document.cookie = str;                                                                                      // 46\n                                                                                                              // 47\n  var _dep = Cookie._deps[name];                                                                              // 48\n  if(!_dep) {                                                                                                 // 49\n    Cookie._deps[name] = new Deps.Dependency();                                                               // 50\n    _dep = Cookie._deps[name];                                                                                // 51\n  }                                                                                                           // 52\n  _dep.changed();                                                                                             // 53\n  Cookie._dep.changed();                                                                                      // 54\n};                                                                                                            // 55\n                                                                                                              // 56\n                                                                                                              // 57\nCookie.list = function() {                                                                                    // 58\n  Cookie._dep.depend();                                                                                       // 59\n                                                                                                              // 60\n  var str = document.cookie;                                                                                  // 61\n  var arr = str.split(';');                                                                                   // 62\n  var list = [];                                                                                              // 63\n  for(var i in arr) {                                                                                         // 64\n    var index = arr[i].indexOf('=');                                                                          // 65\n    list.push(arr[i].substring(0, index).replace(/^ +/, '').replace(/ +$/, ''));                              // 66\n  }                                                                                                           // 67\n  return list;                                                                                                // 68\n};                                                                                                            // 69\n                                                                                                              // 70\n                                                                                                              // 71\nCookie.clear = function(name) {                                                                               // 72\n  Cookie.set(name, null, {clear: true});                                                                      // 73\n};                                                                                                            // 74\n                                                                                                              // 75\n                                                                                                              // 76\n                                                                                                              // 77\nCookie.clearAll = function() {                                                                                // 78\n  var str = document.cookie;                                                                                  // 79\n  var arr = str.split(';');                                                                                   // 80\n  var list = [];                                                                                              // 81\n  for(var i in arr) {                                                                                         // 82\n    var index = arr[i].indexOf('=');                                                                          // 83\n    list.push(arr[i].substring(0, index).replace(/^ +/, '').replace(/ +$/, ''));                              // 84\n  }                                                                                                           // 85\n                                                                                                              // 86\n  for(var i in list) {                                                                                        // 87\n    Cookie.clear(list[i]);                                                                                    // 88\n  }                                                                                                           // 89\n  Cookie._dep.changed();                                                                                      // 90\n};                                                                                                            // 91\n                                                                                                              // 92\n                                                                                                              // 93\n                                                                                                              // 94\n                                                                                                              // 95\n                                                                                                              // 96\n                                                                                                              // 97\n                                                                                                              // 98\n                                                                                                              // 99\n                                                                                                              // 100\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n"]}