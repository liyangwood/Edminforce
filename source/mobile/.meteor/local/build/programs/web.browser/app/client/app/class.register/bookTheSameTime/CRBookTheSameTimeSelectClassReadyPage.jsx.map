{"version":3,"sources":["meteor://üíªapp/client/app/class.register/bookTheSameTime/CRBookTheSameTimeSelectClassReadyPage.jsx"],"names":[],"mappings":"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","file":"/client/app/class.register/bookTheSameTime/CRBookTheSameTimeSelectClassReadyPage.jsx","sourcesContent":["/**\n * Created on 10/6/15.\n */\n\n\n{\n   //todo ‰∏éCRSelectClassReadyPage ÂêàÂπ∂\n\n    //let bookTheSameTimePageStore;\n    //Dependency.autorun(function () {\n    //    bookTheSameTimePageStore = Dependency.get('classRegister.bookTheSameTimePage.store');\n    //});\n\n\n    Cal.CRBookTheSameTimeSelectClassReadyPage = React.createClass({\n        propTypes:{\n            cartId:React.PropTypes.string,\n            swimmerId:React.PropTypes.string,\n            classId:React.PropTypes.string\n\n        },\n        mixins: [ReactMeteorData],\n        getMeteorData() {\n\n            Meteor.subscribe(\"activeShoppingCart\");\n\n\n            var shoppingCart= DB.ShoppingCart.findOne({\n                _id:this.props.cartId,\n                type:'register',\n                status:'active'\n            })\n\n\n            console.log(shoppingCart)\n\n\n\n            var cartItem={}\n            if(shoppingCart && shoppingCart.items){\n\n                cartItem= _.findWhere(shoppingCart.items,{\n                    swimmerId:this.props.swimmerId,\n                    classId:this.props.classId\n                })\n\n            }\n\n\n\n            return {\n                //selectedClassesMap: CRSelectClassPageStore.selectedClasses.get()\n\n                cartItem:cartItem\n            }\n        },\n\n        //actions\n        selectMore(e){\n            e.preventDefault();\n\n            var href = \"/classRegister/BookTheSameTimePage\"\n            FlowRouter.go(href);\n        },\n        goToEdit(swimmerId, classId, preferenceNum){\n\n            var url = '/classRegister/SelectClassEdit'\n                + '?swimmerId=' + swimmerId\n                + '&classId=' + classId\n                + '&preferenceNum=' + preferenceNum\n                + '&cartId=' + this.props.cartId\n\n            FlowRouter.go(url);\n\n        },\n\n        render() {\n            let self = this\n\n\n            //let swimmer = this.data.selectedClassesMap.get('swimmer')\n            //let class1 = this.data.selectedClassesMap.get('class1')\n            //let class2 = this.data.selectedClassesMap.get('class2')\n            //let class3 = this.data.selectedClassesMap.get('class3')\n\n\n            if(this.data.cartItem){\n                var isBookTheSameTime = this.data.cartItem.isBookTheSameTime\n                var swimmer = this.data.cartItem['swimmer']\n\n                var class1 = this.data.cartItem['class1']\n                var class2 = this.data.cartItem['class2']\n                var class3 = this.data.cartItem['class3']\n            }\n\n\n            return <div>\n                <RC.List theme=\"inset\">\n                    <RC.Item theme=\"body\">\n                        <h2 className=\"brand\">Register for spring 2015</h2>\n                        {\n                            swimmer ? <div className=\"row\">\n                                <div className=\"col\">\n                                    Swimmer:\n                                </div>\n                                <div className=\"col\">\n                                    {swimmer.name}\n                                </div>\n                            </div> : ''\n                        }\n\n\n                        {\n                            class1 ? <div className=\"row\">\n                                <div className=\"col\">\n                                    Preference 1\n                                </div>\n                                <div className=\"col\">\n                                    {class1.name}\n                                </div>\n                                <div className=\"col col-20\">\n\n                                    {\n                                        !isBookTheSameTime?\n                                            <button className=\"button button-clear\"\n                                                    onClick={this.goToEdit.bind(self,swimmer._id,class1._id,1)}>Edit\n                                            </button>\n\n                                            :''\n\n                                    }\n\n                                </div>\n\n                            </div> : ''\n\n                        }\n                        {\n                            class2 ? <div className=\"row\">\n                                <div className=\"col\">\n                                    Preference 2\n                                </div>\n                                <div className=\"col\">\n                                    {class2.name}\n                                </div>\n                                <div className=\"col col-20\">\n                                    <button className=\"button button-clear\"\n                                            onClick={this.goToEdit.bind(self,swimmer._id,class1._id,2)}>Edit\n                                    </button>\n                                </div>\n\n                            </div> : ''\n\n                        }\n                        {\n                            class3 ? <div className=\"row\">\n                                <div className=\"col\">\n                                    Preference 3\n                                </div>\n                                <div className=\"col\">\n                                    {class3.name}\n                                </div>\n                                <div className=\"col col-20\">\n                                    <button className=\"button button-clear\"\n                                            onClick={this.goToEdit.bind(self,swimmer._id,class1._id,3)}>Edit\n                                    </button>\n                                </div>\n\n                            </div> : ''\n\n                        }\n\n                    </RC.Item>\n                        <RC.Button name=\"button\" type=\"submit\"\n                                    onClick={this.selectMore}\n                                   theme=\"full\" buttonColor=\"brand\">\n                            Register More\n                        </RC.Button>\n\n\n\n                    <RC.URL href=\"/classRegister/RegBillingPage\">\n                        <RC.Button name=\"button\" type=\"submit\"\n                                   theme=\"full\" buttonColor=\"brand\">\n                            Checkout\n                        </RC.Button>\n\n                    </RC.URL>\n\n                </RC.List>\n            </div>\n        }\n    })\n}\n"]}