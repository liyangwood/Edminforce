{"version":3,"sources":["meteor://💻app/client/app/class.register/SelectClassEditPage.jsx"],"names":[],"mappings":"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","file":"/client/app/class.register/SelectClassEditPage.jsx","sourcesContent":["\n\n{\n    //let CRSelectClassEditPageStoreClass;\n    //Dependency.autorun(function () {\n    //    CRSelectClassEditPageStoreClass = Dependency.get('classRegister.CRSelectClassEditPage.storeClass');\n    //});\n    let PageStore;\n    Dependency.autorun(function () {\n        PageStore = Dependency.get('classRegister.CRSelectClassEditPage.store');\n    });\n\n\n\n\n    function getShoppingItem(cart,swimmerId, classId){\n        if(!cart || !cart.items) return;\n        var items = cart.items\n\n        for(var i=0;i<items.length;i++){\n            if(items[i].swimmerId ==swimmerId\n                &&items[i].classId == classId\n            ){\n                return items[i]\n            }\n        }\n        return null\n    }\n\n\n    Cal.CRSelectClassEditPage = React.createClass({\n        propTypes:{\n            cartId:React.PropTypes.string,\n            swimmerId:React.PropTypes.string,\n            classId:React.PropTypes.string,\n            preferenceNum:React.PropTypes.number //preferenceNumber\n\n        },\n        mixins: [ReactMeteorData],\n\n        getMeteorData() {\n\n            //////////////////subscribe/////////////////////////\n            Meteor.subscribe(\"swimmersByAccountId\", Meteor.userId());\n            //Meteor.subscribe(\"appInfo\");\n            Meteor.subscribe(\"classes\");\n            Meteor.subscribe(\"activeShoppingCart\");\n            //Meteor.subscribe(\"accountShoppingCart\");\n\n\n            //var PageStore = new CRSelectClassEditPageStoreClass;\n\n\n\n            var data = {\n\n                cart:PageStore.cart.get(),\n\n                //account: Meteor.users.find().fetch(),\n                currentSwimmer: PageStore.currentSwimmer.get(),\n                currentClass:PageStore.currentClass.get(),\n\n                currentLevel:PageStore.currentLevel.get(), //next level\n\n\n                //should wait for currentSwimmer\n                avaiableDays: PageStore.avaiableDays.get(),\n                avaiableTimes: PageStore.avaiableTimes.get(),\n                currentDay: PageStore.currentDay.get(),\n                currentTime: PageStore.currentTime.get(),\n\n                //currentStep: PageStore.currentStep.get(),\n\n                //一次选课流程的所有信息\n                //selectedClasses: PageStore.selectedClasses.get()\n\n            }\n\n            //\n            return data;\n\n        },\n\n\n        componentWillMount(){\n///         ///PASS  props value to store\n            Dispatcher.dispatch({\n                actionType: 'CRSelectClassEditPage_PROPS_UPDATE',\n                props: this.props\n            });\n\n        },\n        formSubmit(e){\n            e.preventDefault()\n\n            Dispatcher.dispatch({\n                actionType: 'CRSelectClassEditPage_CLASS_SELECT',\n                props: this.props\n            });\n\n        },\n\n\n        ///////////////actions////////////////\n\n        render: function () {\n\n            let items = this.data.cart && this.data.cart.items ;\n            var item = _.findWhere(items,{\n                swimmerId:this.props.swimmerId,\n                classId:this.props.classId\n            })\n            console.log(item)\n            //\n\n\n            return <div>\n\n                <RC.Card className=\"padding\">\n                    <h4 className=\"brand\">Register Class Edit Preference{this.props.preferenceNum}</h4>\n\n                    <div>\n                        now :{item && item['class'+this.props.preferenceNum] && item['class'+this.props.preferenceNum].name}\n                    </div>\n                    <div>\n                        changed :{this.data.currentClass && this.data.currentClass.name}\n                    </div>\n\n\n                </RC.Card>\n\n                <RC.Form ref=\"myForm\"  onSubmit={this.formSubmit}>\n\n                    <RC.Item uiColor=\"brand1\">\n                        Swimmer: {this.data.currentSwimmer && this.data.currentSwimmer.name}\n                    </RC.Item>\n                    <RC.Item uiColor=\"brand1\">\n                        Level: {this.data.currentLevel}\n                    </RC.Item>\n\n                    <Cal.SelectDay\n                        avaiableDays={this.data.avaiableDays}\n                        currentDay={this.data.currentDay}\n                        changeMessage=\"CRSelectClassEditPage_DAY_CHANGE\"\n                        />\n                    <Cal.SelectTime\n                        avaiableTimes={this.data.avaiableTimes}\n                        currentTime={this.data.currentTime}\n                        changeMessage=\"CRSelectClassEditPage_TIME_CHANGE\"\n                        />\n\n                    <RC.Button name=\"button\" type=\"submit\"\n                               onClick={this.formSubmit}\n                               theme=\"full\" buttonColor=\"brand\">\n                        {this.data.currentStep == 1 ? 'Book':'Select'}\n                    </RC.Button>\n\n                </RC.Form>\n\n\n\n                </div>;\n        }\n\n    });\n\n}\n"]}