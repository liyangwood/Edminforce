{"version":3,"sources":["meteor://ðŸ’»app/client/app/account/accountChangeEmergencyContact.jsx"],"names":[],"mappings":"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","file":"/client/app/account/accountChangeEmergencyContact.jsx","sourcesContent":["let themes = [\"overlay-light\",\"overlay-dark\"]\n\nCal.ChangeEmergencyContact = React.createClass({\n\n\tmixins: [RC.Mixins.Theme],\n\tthemeGroup: \"ih-login\",\n\tthemeDefault: \"overlay-dark\",\n\tthemes: themes,\n\n\tgetInitialState() {\n\t\treturn {\n\t\t\tbuttonActive: false,\n\t\t\twaiting: false,\n\t\t\tmsg: null,\n\t\t}\n\t},\n\n\tclearForm(){\n\t\tthis.refs.name.reset()\n\t\tthis.refs.phone.reset()\n\t\tthis.refs.address.reset()\n\t\tthis.setState({ \n\t\t\tmsg: null,\n\t\t\twaiting: false,\n\t\t\tbuttonActive: false })\n\t},\n\n\tupdateEmergencyContact(e){\n\t\te.preventDefault()\n\t\tlet self = this\n\t\tlet form = this.refs.EmergencyContactForm.getFormData()\n\n\t\tif (form.name) {\n\n\t      \t// Reset Account Password using token\n\t      \tthis.setState({ waiting: true })\n\t      \tlet emergencyContact = {\n\t      \t\tname: form.name,\n\t      \t\tphone: form.phone,\n\t      \t\taddress: form.address,\n\t      \t\tlocation: null\n\t      \t}\n\n\t      \tMeteor.call('SetEmergencyContact', Meteor.userId(), emergencyContact, function(err, result){\n\t      \t\tlet passedMsg = err && err.error\n\t      \t\t\t\t? (ph.errorMsgs[err.error] || err.reason)\n\t      \t\t\t\t: null\n\t      \t\tif (!!err) {\n\t      \t\t\tconsole.log(err)\n\t      \t\t\tself.setState({ \n\t      \t\t\t\tmsg: passedMsg,\n\t      \t\t\t\twaiting: false,\n\t      \t\t\t\tbuttonActive: false })\n\t      \t\t\treturn\n\t      \t\t} else {\n\t      \t\t\tself.clearForm()\n\t\t      \t\tDispatcher.dispatch({\n\t\t        \t\tactionType: \"EMERGENCY_CONTACT_CHANGE_SUCCESS\"\n\t\t        \t});\n\t\t        \treturn;\n\t      \t\t}\n\t      \t})\n\t  \t} else { \n\t  \t\tthis.setState({ msg: \"Name Cannot Be Empty.\" })\n\t  \t\tthis.setState({ waiting: false, buttonActive: false })\n\t  \t}\n\t},\n\n\tdebuggerHelper(){\n\t},\n\n\tprintMsg(){\n\t\tconsole.log(\"printMsg is called\")\n\t\tlet currentMessages = this.state.msg ? [this.state.msg] : []\n\t\treturn <div>\n\t\t\t{\n\t\t\t\tcurrentMessages.map(function(m,n){\n\t\t\t\t\treturn <div className=\"center\" key={n}>\n\t\t\t\t             \t<div className=\"bigger inline-block invis-70 red\">\n\t\t\t\t             \t\t{_.isString(m) ? <div>{m}</div> : m}\n\t\t\t\t             \t</div>\n\t\t\t            \t</div>\n\t\t\t\t})\n\t\t\t}\n\t\t</div>\n\t},\n\n\tcheckButtonState(e){\n\t\tvar form = this.refs.EmergencyContactForm.getFormData()\n\t\tlet test = _.every( _.values(form), function(t){\n\t\t\treturn t.length && t.length>0\n\t\t})\n\t\tif(test\t!= this.state.buttonActive) {\n\t\t\tthis.setState({ buttonActive: test, msg: null})\n\t\t}\n\t},\n\n\tbackToAccount(e){\n\t\tDispatcher.dispatch({\n\t\t    actionType: \"GO_BACK\"\n\t\t});\n\t},\n\n\trender: function() {\n\t\tvar inputTheme = \"small-label\"\n    \tvar buttonTheme = \"full\"\n\t\tif (_.contains([\"overlay-light\",\"overlay-dark\"], this.props.theme)) {\n      \t\tinputTheme += \",\"+this.props.theme\n      \t\tbuttonTheme += \",\"+this.props.theme\n    \t}\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<RC.Form onSubmit={this.updateEmergencyContact} onKeyUp={this.checkButtonState} ref=\"EmergencyContactForm\">\n\t\t\t\t\t{this.printMsg()}\n\t\t\t\t\t<RC.Input name=\"name\" label=\"Contact Name\"  theme={inputTheme} ref=\"name\"  />\n\t\t\t\t\t<RC.Input name=\"phone\" label=\"Contact Phone Number\"  theme={inputTheme} ref=\"phone\"  />\n\t\t\t\t\t<RC.Input name=\"address\" label=\"Contact Address\"  theme={inputTheme} ref=\"address\"  />\n\t\t\t\t\t{\n\t\t\t            <p className=\"center\">\n\t\t\t              <span className=\"smallest inline-block cursor open-registration invis-70\" onClick={this.backToAccount}>\n\t\t\t                Go Back To My Account\n\t\t\t              </span>\n\t\t\t            </p>\n\t\t\t        }\n\t\t\t\t\t<RC.Button name=\"button\" active={this.state.buttonActive} theme={buttonTheme} disabled={this.state.waiting}>\n\t\t\t\t\t\t{this.state.waiting ? <RC.uiIcon uiClass=\"circle-o-notch spin-slow\" /> : \"Update Emergency Contact\"}\n\t\t\t\t\t</RC.Button>\n\t\t\t\t</RC.Form>\n\t\t\t</div>\n\t\t);\n\t}\n}); "]}