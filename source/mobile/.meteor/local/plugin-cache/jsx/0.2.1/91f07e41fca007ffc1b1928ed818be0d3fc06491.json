{"metadata":{"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}},"usedHelpers":[]},"ignored":false,"code":"/**\n * Created on 9/30/15.\n */\n{\n\n    Cal.CRBookTheSameTimeCurrent = React.createClass({\n        displayName: \"CRBookTheSameTimeCurrent\",\n\n        propTypes: {\n            swimmers: React.PropTypes.array, //.isRequired\n            currentSwimmer: React.PropTypes.object,\n            currentSwimmerSameClasses: React.PropTypes.array,\n            currentSwimmerAvaibleSameClasses: React.PropTypes.array, //过滤后的\n            currentStep: React.PropTypes.number\n        },\n\n        mixins: [ReactMeteorData],\n        getMeteorData: function () {\n            return {};\n        },\n\n        //actions\n        formSubmit: function (e) {\n            e.preventDefault();\n\n            var formData = this.refs.myForm.getFormData();\n\n            //todo validation info in ui\n            //if (!this.data. || !this.data.currentDay || !this.data.currentTime) {\n            //\n            //    alert('please select a class')\n            //    return;\n            //}\n\n            Dispatcher.dispatch({\n                actionType: \"BookTheSameTime_CLASS_SELECT_FOR_CURRENT\",\n                currentStep: this.props.currentStep,\n                selectedClass: formData\n            });\n        },\n\n        render: function () {\n\n            //let sameTimeClasses =  this.props.currentSwimmerSameClasses;\n            var sameTimeClasses = this.props.currentSwimmerAvaibleSameClasses;\n\n            console.log(sameTimeClasses);\n\n            return React.createElement(\n                \"div\",\n                null,\n                React.createElement(\n                    RC.Form,\n                    { ref: \"myForm\", key: Math.random(), onSubmit: this.formSubmit },\n                    React.createElement(Cal.SelectSwimmer, {\n                        swimmers: this.props.swimmers,\n                        currentSwimmer: this.props.currentSwimmer,\n                        changeMessage: \"BookTheSameTime_SWIMMER_CHANGE\"\n                    }),\n                    sameTimeClasses ? sameTimeClasses.map(function (sameTimeClass) {\n\n                        return React.createElement(Cal.CRBookTheSameTimeClassItem, {\n                            key: sameTimeClass._id,\n                            classInfo: sameTimeClass });\n                    }) : ''\n                )\n            );\n        }\n    });\n}","ast":null,"map":{"version":3,"sources":["/client/app/class.register/bookTheSameTime/CRBookTheSameTimeCurrent.jsx"],"names":[],"mappings":";;;AAGA;;AAEI,OAAG,CAAC,wBAAwB,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAE7C,iBAAS,EAAE;AACP,oBAAQ,EAAE,KAAK,CAAC,SAAS,CAAC,KAAK;AAC/B,0BAAc,EAAC,KAAK,CAAC,SAAS,CAAC,MAAM;AACrC,qCAAyB,EAAC,KAAK,CAAC,SAAS,CAAC,KAAK;AAC/C,4CAAgC,EAAC,KAAK,CAAC,SAAS,CAAC,KAAK;AACtD,uBAAW,EAAC,KAAK,CAAC,SAAS,CAAC,MAAM;SACrC;;AAED,cAAM,EAAE,CAAC,eAAe,CAAC;AACzB,qBAAa,EAAA,YAAG;AACZ,mBAAO,EAAE,CAAA;SACZ;;;AAGD,kBAAU,EAAC,UAAC,CAAC,EAAE;AACX,aAAC,CAAC,cAAc,EAAE,CAAA;;AAElB,gBAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAA;;;;;;;;;AAU7C,sBAAU,CAAC,QAAQ,CAAC;AAChB,0BAAU,EAAE,0CAA0C;AACtD,2BAAW,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW;AACnC,6BAAa,EAAE,QAAQ;aAC1B,CAAC,CAAC;SAEN;;AAED,cAAM,EAAA,YAAG;;;AAGL,gBAAI,eAAe,GAAI,IAAI,CAAC,KAAK,CAAC,gCAAgC,CAAC;;AAGnE,mBAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAA;;AAE5B,mBAAO;;;gBAEH;AAAC,sBAAE,CAAC,IAAI;sBAAC,GAAG,EAAC,QAAQ,EAAC,GAAG,EAAE,IAAI,CAAC,MAAM,EAAE,AAAC,EAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,AAAC;oBAGhE,oBAAC,GAAG,CAAC,aAAa;AACd,gCAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,AAAC;AAC9B,sCAAc,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,AAAC;AAC1C,qCAAa,EAAC,gCAAgC;sBAC5C;oBAGF,eAAe,GAAE,eAAe,CAAC,GAAG,CAAC,UAAU,aAAa,EAAE;;AAE1D,+BAAO,oBAAC,GAAG,CAAC,0BAA0B;AAClC,+BAAG,EAAE,aAAa,CAAC,GAAG,AAAC;AACvB,qCAAS,EAAE,aAAa,AAAC,GAAE,CAAA;qBAClC,CAAC,GAAC,EAAE;iBAGH;aAER,CAAA;SACT;KACJ,CAAC,CAAA;CAEL","file":"/client/app/class.register/bookTheSameTime/CRBookTheSameTimeCurrent.jsx.map","sourcesContent":["/**\n * Created on 9/30/15.\n */\n{\n\n    Cal.CRBookTheSameTimeCurrent = React.createClass({\n\n        propTypes: {\n            swimmers: React.PropTypes.array, //.isRequired\n            currentSwimmer:React.PropTypes.object,\n            currentSwimmerSameClasses:React.PropTypes.array,\n            currentSwimmerAvaibleSameClasses:React.PropTypes.array, //过滤后的\n            currentStep:React.PropTypes.number\n        },\n\n        mixins: [ReactMeteorData],\n        getMeteorData() {\n            return {}\n        },\n\n        //actions\n        formSubmit (e) {\n            e.preventDefault()\n\n            var formData = this.refs.myForm.getFormData()\n\n\n            //todo validation info in ui\n            //if (!this.data. || !this.data.currentDay || !this.data.currentTime) {\n            //\n            //    alert('please select a class')\n            //    return;\n            //}\n\n            Dispatcher.dispatch({\n                actionType: \"BookTheSameTime_CLASS_SELECT_FOR_CURRENT\",\n                currentStep: this.props.currentStep,\n                selectedClass: formData\n            });\n\n        },\n\n        render() {\n\n            //let sameTimeClasses =  this.props.currentSwimmerSameClasses;\n            let sameTimeClasses =  this.props.currentSwimmerAvaibleSameClasses;\n\n\n            console.log(sameTimeClasses)\n\n            return <div>\n\n                <RC.Form ref=\"myForm\" key={Math.random()} onSubmit={this.formSubmit}>\n\n\n                    <Cal.SelectSwimmer\n                        swimmers={this.props.swimmers}\n                        currentSwimmer={this.props.currentSwimmer}\n                        changeMessage=\"BookTheSameTime_SWIMMER_CHANGE\"\n                        />\n\n                    {\n                        sameTimeClasses? sameTimeClasses.map(function (sameTimeClass) {\n\n                            return <Cal.CRBookTheSameTimeClassItem\n                                key={sameTimeClass._id}\n                                classInfo={sameTimeClass}/>\n                        }):''\n                    }\n\n                </RC.Form>\n\n            </div>\n        }\n    })\n\n}\n"]},"hash":"91f07e41fca007ffc1b1928ed818be0d3fc06491"}
