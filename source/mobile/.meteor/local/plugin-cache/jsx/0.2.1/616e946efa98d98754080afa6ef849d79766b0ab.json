{"metadata":{"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}},"usedHelpers":[]},"ignored":false,"code":"/**\n * Created on 9/22/15.\n */\n\n{\n\n    Cal.CEBillingAndPayment = React.createClass({\n        displayName: \"CEBillingAndPayment\",\n\n        mixins: [ReactMeteorData],\n        getMeteorData: function () {\n\n            Meteor.subscribe(\"historyShoppingCart\", Meteor.userId());\n            Meteor.subscribe(\"nowShoppingCart\", Meteor.userId());\n\n            //status==done\n            var historyBillings = DB.ShoppingCart.find({\n                accountId: Meteor.userId(),\n                status: 'done'\n            }).fetch();\n\n            //尚未支付的订单 status  [active , checking]\n            //active还未选择支付方式  checking已选择pay－now or pay－in－store\n            var unfinishedBillings = DB.ShoppingCart.find({\n                accountId: Meteor.userId(),\n                status: {\n                    $in: ['active', 'checking', 'applied']\n                }\n            }).fetch();\n\n            return {\n                historyBillings: historyBillings,\n                unfinishedBillings: unfinishedBillings\n            };\n        },\n\n        ///actions\n\n        render: function () {\n\n            //<Cal.BillingUnfinished unfinishedBillings={this.data.unfinishedBillings}/>\n            //<Cal.CRRegBillingPage />\n\n            return React.createElement(\n                RC.Tabs,\n                { className: \"bg-white\" },\n                React.createElement(\n                    \"div\",\n                    { label: \"Pending Billing\", className: \"padding\" },\n                    React.createElement(Cal.BillingUnfinished, { unfinishedBillings: this.data.unfinishedBillings })\n                ),\n                React.createElement(\n                    \"div\",\n                    { label: \"History Payment\", className: \"padding\" },\n                    this.data.historyBillings.map(function (cart) {\n\n                        return cart.items.map(function (item) {\n\n                            return React.createElement(\n                                \"div\",\n                                { className: \"row\" },\n                                React.createElement(\n                                    \"div\",\n                                    { className: \"col\" },\n                                    item.swimmer && item.swimmer.name\n                                ),\n                                React.createElement(\n                                    \"div\",\n                                    { className: \"col\" },\n                                    item.class1 && item.class1.name\n                                )\n                            );\n                        });\n                    })\n                )\n            );\n        }\n    });\n}","ast":null,"map":{"version":3,"sources":["/client/app/class.edit/BillingAndPayment.jsx"],"names":[],"mappings":";;;;AAIA;;AAGI,OAAG,CAAC,mBAAmB,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAExC,cAAM,EAAE,CAAC,eAAe,CAAC;AACzB,qBAAa,EAAA,YAAG;;AAGZ,kBAAM,CAAC,SAAS,CAAC,qBAAqB,EAAE,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC;AACzD,kBAAM,CAAC,SAAS,CAAC,iBAAiB,EAAE,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC;;;AAKrD,gBAAI,eAAe,GAAG,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC;AACvC,yBAAS,EAAE,MAAM,CAAC,MAAM,EAAE;AAC1B,sBAAM,EAAE,MAAM;aACjB,CAAC,CAAC,KAAK,EAAE,CAAA;;;;AAIV,gBAAI,kBAAkB,GAAG,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC;AAC1C,yBAAS,EAAE,MAAM,CAAC,MAAM,EAAE;AAC1B,sBAAM,EAAE;AACJ,uBAAG,EAAE,CAAC,QAAQ,EAAE,UAAU,EAAC,SAAS,CAAC;iBACxC;aACJ,CAAC,CAAC,KAAK,EAAE,CAAA;;AAIV,mBAAO;AACH,+BAAe,EAAE,eAAe;AAChC,kCAAkB,EAAE,kBAAkB;aACzC,CAAA;SACJ;;;;AAKD,cAAM,EAAA,YAAG;;;;;AAML,mBAAO;AAAC,kBAAE,CAAC,IAAI;kBAAC,SAAS,EAAC,UAAU;gBAChC;;sBAAK,KAAK,EAAC,iBAAiB,EAAC,SAAS,EAAC,SAAS;oBAE5C,oBAAC,GAAG,CAAC,iBAAiB,IAAC,kBAAkB,EAAE,IAAI,CAAC,IAAI,CAAC,kBAAkB,AAAC,GAAE;iBAExE;gBACN;;sBAAK,KAAK,EAAC,iBAAiB,EAAC,SAAS,EAAC,SAAS;oBAGxC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,UAAU,IAAI,EAAE;;AAE1C,+BAAO,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,UAAS,IAAI,EAAC;;AAE5B,mCAAO;;kCAAK,SAAS,EAAC,KAAK;gCACnB;;sCAAK,SAAS,EAAC,KAAK;oCACf,IAAI,CAAC,OAAO,IAAG,IAAI,CAAC,OAAO,CAAC,IAAI;iCAC/B;gCACN;;sCAAK,SAAS,EAAC,KAAK;oCACf,IAAI,CAAC,MAAM,IAAG,IAAI,CAAC,MAAM,CAAC,IAAI;iCAE7B;6BACJ,CAAA;yBACb,CAAC,CAAA;qBAGT,CAAC;iBAIJ;aACA,CAAA;SACb;KACJ,CAAC,CAAA;CAEL","file":"/client/app/class.edit/BillingAndPayment.jsx.map","sourcesContent":["/**\n * Created on 9/22/15.\n */\n\n{\n\n\n    Cal.CEBillingAndPayment = React.createClass({\n\n        mixins: [ReactMeteorData],\n        getMeteorData() {\n\n\n            Meteor.subscribe(\"historyShoppingCart\", Meteor.userId());\n            Meteor.subscribe(\"nowShoppingCart\", Meteor.userId());\n\n\n\n            //status==done\n            let historyBillings = DB.ShoppingCart.find({\n                accountId: Meteor.userId(),\n                status: 'done'\n            }).fetch()\n\n            //尚未支付的订单 status  [active , checking]\n            //active还未选择支付方式  checking已选择pay－now or pay－in－store\n            let unfinishedBillings = DB.ShoppingCart.find({\n                accountId: Meteor.userId(),\n                status: {\n                    $in: ['active', 'checking','applied']\n                }\n            }).fetch()\n\n\n\n            return {\n                historyBillings: historyBillings,\n                unfinishedBillings: unfinishedBillings\n            }\n        },\n\n        ///actions\n\n\n        render() {\n\n            //<Cal.BillingUnfinished unfinishedBillings={this.data.unfinishedBillings}/>\n            //<Cal.CRRegBillingPage />\n\n\n            return <RC.Tabs className=\"bg-white\">\n                <div label=\"Pending Billing\" className=\"padding\">\n\n                    <Cal.BillingUnfinished unfinishedBillings={this.data.unfinishedBillings}/>\n\n                </div>\n                <div label=\"History Payment\" className=\"padding\">\n\n                    {\n                        this.data.historyBillings.map(function (cart) {\n\n                            return cart.items.map(function(item){\n\n                                    return <div className=\"row\">\n                                            <div className=\"col\">\n                                                {item.swimmer &&item.swimmer.name }\n                                            </div>\n                                            <div className=\"col\">\n                                                {item.class1 &&item.class1.name }\n\n                                            </div>\n                                        </div>\n                                })\n\n\n                        })\n\n                    }\n\n                </div>\n            </RC.Tabs>\n        }\n    })\n\n}\n\n"]},"hash":"616e946efa98d98754080afa6ef849d79766b0ab"}
