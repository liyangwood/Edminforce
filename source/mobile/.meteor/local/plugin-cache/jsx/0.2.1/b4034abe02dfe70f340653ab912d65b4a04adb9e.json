{"metadata":{"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}},"usedHelpers":[]},"ignored":false,"code":"/**\n * Created on 9/23/15.\n */\n\nCal.CRPaymentOptionsPage = React.createClass({\n    displayName: 'CRPaymentOptionsPage',\n\n    mixins: [ReactMeteorData],\n    getMeteorData: function () {\n        Meteor.subscribe(\"activeShoppingCart\");\n\n        return {\n            //当前的 ShoppingCart\n            shoppingCart: DB.ShoppingCart.findOne({\n                status: 'active',\n                type: 'register'\n            })\n        };\n    },\n\n    //////actions\n    payNow: function (e) {\n\n        alert('Pay now module need third-party gateway and is still not implemented');\n    },\n    payInStore: function () {\n        var cartId = this.data.shoppingCart && this.data.shoppingCart._id;\n\n        Meteor.call('move_to_checking', cartId, 'pay-in-store', function (err, result) {\n            if (err) {\n                console.error(err);\n                return;\n            };\n\n            FlowRouter.go('/classRegister/paymentInstoreConfirm');\n        });\n    },\n\n    render: function () {\n        return React.createElement(\n            'div',\n            { className: 'padding' },\n            React.createElement(\n                RC.Button,\n                { name: 'button', type: 'submit',\n                    onClick: this.payNow,\n                    theme: 'full', buttonColor: 'brand' },\n                'Pay Now'\n            ),\n            React.createElement(\n                RC.Button,\n                { name: 'button', type: 'submit',\n                    onClick: this.payInStore,\n                    theme: 'full', buttonColor: 'brand' },\n                'Pay In Store'\n            )\n        );\n    }\n});","ast":null,"map":{"version":3,"sources":["/client/app/class.register/paymentOptionsPage.jsx"],"names":[],"mappings":";;;;AAMA,GAAG,CAAC,oBAAoB,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAEzC,UAAM,EAAE,CAAC,eAAe,CAAC;AACzB,iBAAa,EAAA,YAAG;AACZ,cAAM,CAAC,SAAS,CAAC,oBAAoB,CAAC,CAAC;;AAEvC,eAAO;;AAEH,wBAAY,EAAE,EAAE,CAAC,YAAY,CAAC,OAAO,CAAC;AAClC,sBAAM,EAAC,QAAQ;AACf,oBAAI,EAAC,UAAU;aAClB,CAAC;SACL,CAAA;KACJ;;;AAGD,UAAM,EAAA,UAAC,CAAC,EAAC;;AAEL,aAAK,CAAC,sEAAsE,CAAC,CAAA;KAChF;AACD,cAAU,EAAA,YAAE;AACR,YAAI,MAAM,GAAI,IAAI,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAA;;AAElE,cAAM,CAAC,IAAI,CAAC,kBAAkB,EAAE,MAAM,EAAE,cAAc,EAAC,UAAS,GAAG,EAAC,MAAM,EAAC;AACvE,gBAAG,GAAG,EAAE;AACJ,uBAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;AAClB,uBAAO;aACV,CAAC;;AAEF,sBAAU,CAAC,EAAE,CAAC,sCAAsC,CAAC,CAAC;SAEzD,CAAC,CAAA;KAGL;;AAED,UAAM,EAAA,YAAG;AACL,eAAO;;cAAK,SAAS,EAAC,SAAS;YAG3B;AAAC,kBAAE,CAAC,MAAM;kBAAC,IAAI,EAAC,QAAQ,EAAC,IAAI,EAAC,QAAQ;AAC3B,2BAAO,EAAE,IAAI,CAAC,MAAM,AAAC;AACrB,yBAAK,EAAC,MAAM,EAAC,WAAW,EAAC,OAAO;;aAE/B;YAGZ;AAAC,kBAAE,CAAC,MAAM;kBAAC,IAAI,EAAC,QAAQ,EAAC,IAAI,EAAC,QAAQ;AAC3B,2BAAO,EAAE,IAAI,CAAC,UAAU,AAAC;AACzB,yBAAK,EAAC,MAAM,EAAC,WAAW,EAAC,OAAO;;aAE/B;SAGV,CAAA;KACT;CACJ,CAAC,CAAA","file":"/client/app/class.register/paymentOptionsPage.jsx.map","sourcesContent":["/**\n * Created on 9/23/15.\n */\n\n\n\nCal.CRPaymentOptionsPage = React.createClass({\n\n    mixins: [ReactMeteorData],\n    getMeteorData() {\n        Meteor.subscribe(\"activeShoppingCart\");\n\n        return {\n            //当前的 ShoppingCart\n            shoppingCart: DB.ShoppingCart.findOne({\n                status:'active',\n                type:'register'\n            })\n        }\n    },\n\n    //////actions\n    payNow(e){\n\n        alert('Pay now module need third-party gateway and is still not implemented')\n    },\n    payInStore(){\n        var cartId =  this.data.shoppingCart && this.data.shoppingCart._id\n\n        Meteor.call('move_to_checking', cartId, 'pay-in-store',function(err,result){\n            if(err) {\n                console.error(err)\n                return;\n            };\n\n            FlowRouter.go('/classRegister/paymentInstoreConfirm');\n\n        })\n\n\n    },\n\n    render() {\n        return <div className=\"padding\">\n\n\n            <RC.Button name=\"button\" type=\"submit\"\n                       onClick={this.payNow}\n                       theme=\"full\" buttonColor=\"brand\">\n                Pay Now\n            </RC.Button>\n\n\n            <RC.Button name=\"button\" type=\"submit\"\n                       onClick={this.payInStore}\n                       theme=\"full\" buttonColor=\"brand\">\n                Pay In Store\n            </RC.Button>\n\n\n        </div>\n    }\n})"]},"hash":"b4034abe02dfe70f340653ab912d65b4a04adb9e"}
